<div class="bg-[var(--background)] text-[var(--text)] py-60 lg:py-[86px]" 
    style="{% if section.settings.image != blank %}background-image: url('{{ section.settings.image | image_url: width: 1400 }}'); background-attachment: fixed; background-size: cover; background-position: center; {% endif %}{% render "color-variables", color: section.settings.color %}"
>
    {% if section.settings.layout == 'a' %}
        <div class="page-width flex {% if section.settings.layout_mobile == 'b' %}flex-col-reverse{% else %}flex-col{% endif %} justify-start items-center lg:grid grid-cols-12 gap-x-10 gap-y-30 lg:gap-y-[46px]">
            {% for block in section.blocks %}
                <div class="w-full lg:col-span-6 md:px-[2.5vw]">
                    {% if block.type == "image" %}
                        <div class="w-[80%] mx-auto lg:mx-0 lg:w-full h-auto aspect-[0.93/1] rounded-[10px] overflow-hidden relative" data-animate>
                            {% if block.settings.image != blank %}
                                {{ block.settings.image | image_url: width: 1000 | image_tag: class: 'w-full h-full object-cover inset'  }}
                            {% endif %}
                        </div>
                    {% else %}
                        <div class="flex flex-col justify-center items-stretch gap-y-[6px] lg:gap-y-30">

                            {% if block.settings.title != blank or block.settings.title_r != blank %}
                                <div class="border-b border-[var(--text)] flex flex-row justify-between items-end gap-10 pb-[6px] lg:pb-25">
                                    <h6 class="text-pangram-14 leading-[30px]" data-animate>
                                        {{ block.settings.title }}
                                    </h6>

                                    <h6 class="text-pangram-14 leading-[30px]" data-animate>
                                        {{ block.settings.title_r }}
                                    </h6>
                                </div>
                            {% endif %}

                            {% if block.settings.heading != blank %}
                                <div class="!leading-[1.2] text-arizona-40 md:text-arizona-48 xl:text-arizona-50 xxl:text-arizona-60 xxxl:text-arizona-72 xl:max-w-[min(607px,34vw)] [&_br]:hidden [&_br]:md:block">
                                    {{ block.settings.heading | newline_to_br }}
                                </div>
                            {% endif %}

                            {% if block.settings.text != blank %}
                                <div class="text-oracle-18 text-left indent-8">
                                    {{ block.settings.text }}
                                </div>
                            {% endif %}

                            {%- if block.settings.button_label != blank -%}
                                {% if block.settings.button_link != blank %}
                                    <a href="{{ block.settings.button_link }}" class="button button--large button--outline whitespace-nowrap block w-full mt-[22px] lg:mt-0">
                                    {{ block.settings.button_label }}
                                    </a>
                                {% elsif block.settings.scroll_to != blank %}
                                    <button onclick="document.querySelector('{{ block.settings.scroll_to }}').scrollIntoView({ behavior: 'smooth'})" class="button button--large button--outline whitespace-nowrap block w-full mt-[22px] md:mt-0">
                                        {{ block.settings.button_label }}
                                    </button>
                                {% endif %}
                            {%- endif -%}

                        </div>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="page-width {% if section.settings.image != blank %}lg:grid grid-cols-12 gap-x-10{% endif %}">
            <div class="{% if section.settings.image != blank %}col-start-2 col-span-10{% endif %} flex {% if section.settings.layout_mobile == 'b' %}flex-col-reverse{% else %}flex-col{% endif %} justify-start items-center lg:grid grid-cols-12 gap-x-0 md:gap-y-30 lg:gap-y-[46px] {% unless section.settings.image != blank %}rounded-[10px]{% endunless %} bg-[var(--text)] text-[var(--background)] overflow-hidden">
                {% for block in section.blocks %}
                    {% if block.type == "image" %}
                        <div class="w-full h-full {% if section.settings.image != blank %}lg:col-span-6{% else %}lg:col-span-7{% endif %}">
                            <div data-animate class="w-full h-full aspect-square lg:aspect-[1.1/1] lg:max-h-[45vw] overflow-hidden relative flex flex-col justify-end items-center lg:items-end text-right py-20 px-30 md:p-[max(30px,2.5vw)]">
                                {% if block.settings.image != blank %}
                                    {{ block.settings.image | image_url: width: 1000 | image_tag: class: 'w-full h-full object-cover inset'  }}
                                {% endif %}

                                {%- if block.settings.button_label != blank -%}
                                    {% if block.settings.button_link != blank %}
                                        <a href="{{ block.settings.button_link }}" class="relative button button--outline button--large whitespace-nowrap block w-full lg:inline-block lg:align-super lg:w-[80%]">
                                        {{ block.settings.button_label }}
                                        </a>
                                    {% elsif block.settings.scroll_to != blank %}
                                        <button onclick="document.querySelector('{{ block.settings.scroll_to }}').scrollIntoView({ behavior: 'smooth'})" class="relative button button--outline button--large whitespace-nowrap block w-full lg:inline-block lg:align-super lg:w-[80%]">
                                            {{ block.settings.button_label }}
                                        </button>
                                    {% endif %}
                                {%- endif -%}
                            </div>
                        </div>
                    {% else %}
                        <div class="w-full h-full {% if section.settings.image != blank %}lg:col-span-6{% else %}lg:col-span-5{% endif %} pb-[max(30px,2.5vw)] p-[max(30px,2.5vw)] flex flex-col justify-between items-center gap-y-40">

                    
                            <div class="flex flex-row {% if block.settings.title != blank and block.settings.title_r != blank %}justify-between{% else %}justify-center{% endif %} items-end gap-10 w-full">
                                <h6 data-animate class="text-pangram-14 leading-[30px] {% if block.settings.title_r != blank %}text-left{% else %}text-center{% endif %}">
                                    {{ block.settings.title }}
                                </h6>

                                <h6 data-animate class="text-pangram-14 leading-[30px] {% if block.settings.title != blank %}text-right{% else %}text-center{% endif %}">
                                    {{ block.settings.title_r }}
                                </h6>
                            </div>

                                <div data-animate class="text-arizona-40 md:text-arizona-48 text-center">
                                    {{ block.settings.heading }}
                                </div>

                                <div class="text-oracle-18 text-left indent-8 flex flex-col gap-y-[28px] {% if section.settings.image != blank %}lg:max-w-[75%] mx-auto{% endif %}">
                                    {{ block.settings.text }}

                                    {%- if block.settings.button_label != blank -%}
                                        &nbsp;
                                        {% if block.settings.button_link != blank %}
                                            <a href="{{ block.settings.button_link }}" class="relative button button--large whitespace-nowrap mx-auto block w-full">
                                            {{ block.settings.button_label }}
                                            </a>
                                        {% elsif block.settings.scroll_to != blank %}
                                            <button onclick="document.querySelector('{{ block.settings.scroll_to }}').scrollIntoView({ behavior: 'smooth'})" class="relative button button--large whitespace-nowrap mx-auto block w-full">
                                                {{ block.settings.button_label }}
                                            </button>
                                        {% endif %}
                                    {%- endif -%}
                                </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    {% endif %}
</div>

{% schema %}
    {
        "name": "Image/Text",
        "settings": [
            {
                "type": "select",
                "id": "color",
                "label": "Section colors",
                "options": [
                    {
                        "label": "Light",
                        "value": "light"
                    },
                    {
                        "label": "Dark",
                        "value": "dark"
                    }
                ],
                "default": "dark"
            },
            {
                "type": "select",
                "id": "layout",
                "label": "Layout type",
                "options": [
                    {
                        "label": "Layout A",
                        "value": "a"
                    },
                    {
                        "label": "Layout B",
                        "value": "b"
                    }
                ],
                "default": "a"
            },
            {
                "type": "select",
                "id": "layout_mobile",
                "label": "Mobile layout",
                "options": [
                    {
                        "label": "Stack",
                        "value": "a"
                    },
                    {
                        "label": "Reverse stack",
                        "value": "b"
                    }
                ],
                "default": "a"
            },
            {
                "type": "header",
                "content": "Background"
            },
            {
                "type": "paragraph",
                "content": "optional"
            },
            {
                "type": "image_picker",
                "id": "image",
                "label": "Image"
            }
        ],
        "blocks": [
            {
                "type": "image",
                "name": "Image",
                "settings": [
                    {
                        "type": "image_picker",
                        "id": "image",
                        "label": "Image"
                    },
                    {
                        "type": "text",
                        "id": "button_label",
                        "label": "Button Label"
                    },
                    {
                        "type": "url",
                        "id": "button_link",
                        "label": "Button Link"
                    },
                    {
                        "type": "text",
                        "id": "scroll_to",
                        "label": "Element to scroll to",
                        "info": "Enter an element selector instead of a url link"
                    }
                ]
            },
            {
                "type": "text",
                "name": "Text",
                "settings": [
                    {
                        "type": "text",
                        "id": "title",
                        "label": "Subhead (left)"
                    },
                    {
                        "type": "text",
                        "id": "title_r",
                        "label": "Subhead (right)"
                    },
                    {
                        "type": "textarea",
                        "id": "heading",
                        "label": "Heading"
                    },
                    {
                        "type": "inline_richtext",
                        "id": "text",
                        "label": "Text"
                    },
                    {
                        "type": "header",
                        "content": "Button"
                    },
                    {
                        "type": "text",
                        "id": "button_label",
                        "label": "Button Label"
                    },
                    {
                        "type": "url",
                        "id": "button_link",
                        "label": "Button Link"
                    },
                    {
                        "type": "text",
                        "id": "scroll_to",
                        "label": "Element to scroll to",
                        "info": "Enter an element selector instead of a url link"
                    }
                ]
            }
        ],
        "presets": [
            {
                "name": "Image/Text"
            }
        ]
    }
{% endschema %}